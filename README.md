スマートフォンのLINEから、家のエアコンを操作するシステムを作りました。
家のエアコンはラズベリーパイで操作します。
このプログラムはラズベリーパイ上に配置したPythonプログラムです。

このプログラムを使用するための前提条件  
・ラズベリーパイがセットアップされていること  
*使用した機器はRaspberry Pi Zero WH とRaspberry Pi Zero用赤外線+環境センサ｢RPZ-IR-Sensor｣Rev2.0を使用しました。
*OSはRaspbian OSを使用しています。
*ラズベリーパイはインターネットに接続します。
*ラズベリーパイは初期設定のままだと、省電力機能などによって、ネットワークの接続が切れたりします。そのため、パワーマネジメント機能をオフにし、WiFi接続が切れた時は再接続するスクリプトをcronに登録しています。

・エアコンの赤外線信号を取得していること  
*pigpioをラズベリーパイにインストールし、赤外線信号を取得しました。
*pigpioとは、ラズベリーパイのGPIOをPythonから操作できるライブラリです。

・MQTTブローカーが構築され、ラズベリーパイと接続されていること  
*MQTTブローカーとは、MQTTというプロトコルを使ってメッセージを配信するサーバーのことです。
*MQTTでは、メッセージを送る人をPublisherといい、メッセージを購読する人をSubscriberといいます。
*MQTTブローカーはPubisherとSubscriberを繋ぐ役割を果たします。
*今回Publisherは、Herokuにウェブアプリケーションを作成しました。Subscrilberはラズベリーパイです。
*MQTTブローカーはHerokuのアドオンとして利用できるCloudMQTTを利用しています。

・その他  
*LINEアカウントとLINE Developersへの登録しています。
*Herokuアカウントを登録し、HerokuCLIをパソコンにインストールしています。
　
・動作の概要  
*スマートフォンのLINEからのメッセージをトリガーに、HerokuのウェブアプリケーションからCludMQTTへPublishされ、ラズベリーパイがSubscribします。
　
